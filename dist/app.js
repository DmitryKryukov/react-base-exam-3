(()=>{"use strict";var t={99:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(81),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,'html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:rgba(0,0,0,0)}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}body{font-family:"Roboto Flex",sans-serif;font-optical-sizing:auto;font-variation-settings:"slnt" 0,"wdth" 100,"GRAD" 0,"XOPQ" 96,"XTRA" 468,"YOPQ" 79,"YTAS" 750,"YTDE" -203,"YTFI" 738,"YTLC" 514,"YTUC" 712}:root{--background-body: #f2f2f2;--background-base: #fff;--background-card: #ededed;--background-ghost: #f2f2f2;--foreground-body: #000;--foreground-muted: #808080;--foreground-inverted: #fff;--accent-primary: #00A31B;--accent-primary: color(display-p3 0 0.64 0.1067);--accent-danger: #FF7033;--accent-danger: color(display-p3 1 0.44 0.2);--modal-overlay: #000000CC;--container-padding: 16px;--ease-out-quint: cubic-bezier(0.22, 1, 0.36, 1);--ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1)}@media(prefers-color-scheme: dark){:root{--background-body: #000;--background-base: #131313;--background-card: #212121;--background-ghost: #303030;--foreground-body: #fff;--foreground-inverted: #000;--accent-primary: #C9FF00;--accent-primary: color(display-p3 0.8333 1 0);--accent-danger: #CC3D00;--accent-danger: color(display-p3 0.8 0.24 0)}}*{box-sizing:border-box;outline:none;image-rendering:pixelated}h1,h2,h3,h4,h5,h6{margin:0}html{transition:background-color var(--ease-out-quint) .3s}html:has(.modal-wrapper--open){background-color:var(--modal-overlay)}html,body{color-scheme:light}@media(prefers-color-scheme: dark){html,body{color-scheme:dark}}body,main{display:flex;flex-direction:column;min-height:100lvh;font-size:24px;line-height:1;overflow:hidden;user-select:none}.transform{position:absolute}.scene--to-next{filter:brightness(0);pointer-events:none;transition:none !important}.scene--fade-in{transition:filter var(--ease-out-quint) 3s;scale:1.1;animation:3s var(--ease-out-quint) scene--fade-in forwards}@keyframes scene--fade-in{to{scale:1}}.unit-container{position:relative}.unit{pointer-events:none}.unit .sprite{pointer-events:none;z-index:1}.unit--large{width:390px;height:390px}.unit--medium{width:300px;height:300px}.unit--small{width:240px;height:240px}.unit--active .sprite{animation:unit-flash .3s var(--ease-out-quint) forwards}.unit--active::after{content:"";position:absolute;left:0;right:0;top:0;bottom:0;background-image:radial-gradient(gold 5px, transparent 5px, hsla(51, 100%, 50%, 0.75) calc(100% - 25px), gold calc(100% - 25px), gold calc(100% - 25px), transparent calc(100% - 24px));transform:scale(1.5, 0.75);transform-origin:bottom}.unit--active.unit--enemy::after{background-image:radial-gradient(red 5px, transparent 5px, hsla(0, 100%, 50%, 0.75) calc(100% - 25px), calc(100% - 25px), red calc(100% - 25px), transparent calc(100% - 24px))}@keyframes unit-flash{0%{filter:brightness(2) drop-shadow(0px 2px 0px var(--active-color)) drop-shadow(0px -2px 0px var(--active-color)) drop-shadow(2px 0px 0px var(--active-color)) drop-shadow(-2px 0px 0px var(--active-color))}75%{filter:brightness(2) drop-shadow(0px 2px 0px var(--active-color)) drop-shadow(0px -2px 0px var(--active-color)) drop-shadow(2px 0px 0px var(--active-color)) drop-shadow(-2px 0px 0px var(--active-color))}100%{filter:brightness(1) drop-shadow(0px 2px 0px var(--active-color)) drop-shadow(0px -2px 0px var(--active-color)) drop-shadow(2px 0px 0px var(--active-color)) drop-shadow(-2px 0px 0px var(--active-color))}}.unit--defence-up .sprite{animation:unit-defence .3s var(--ease-out-quint) forwards;transform-origin:center calc(100% - var(--sprite-y)*4)}@keyframes unit-defence{0%{filter:brightness(1);scale:1}75%{filter:brightness(2);scale:1 1.2}100%{filter:brightness(1);scale:1}}body:not(.not-blend-modes) .unit--active::after{mix-blend-mode:plus-lighter;background-color:#000;background-image:radial-gradient(gold 5px, transparent 5px, hsla(51, 100%, 50%, 0.75) calc(100% - 25px), gold calc(100% - 25px), gold calc(100% - 25px), black calc(100% - 24px))}body:not(.not-blend-modes) .unit--active.unit--enemy::after{background-image:radial-gradient(red 5px, transparent 5px, hsla(0, 100%, 50%, 0.75) calc(100% - 25px), calc(100% - 25px), red calc(100% - 25px), transparent calc(100% - 24px))}body:not(.not-pixelization) .unit--active::after{filter:url(#pixelate)}.unit--active .sprite{translate:var(--sprite-x, 0) var(--sprite-y, 0);filter:drop-shadow(0px 2px 0px var(--active-color)) drop-shadow(0px -2px 0px var(--active-color)) drop-shadow(2px 0px 0px var(--active-color)) drop-shadow(-2px 0px 0px var(--active-color))}.transform{transition:left linear var(--run-speed),top linear var(--run-speed)}.sprite{position:absolute;translate:var(--sprite-x, 0) var(--sprite-y, 0)}.shadow{position:absolute;left:var(--shadow-x, 18%);right:20px;bottom:var(--shadow-y, -16%);pointer-events:none}body:not(.not-blend-modes) .shadow{background-color:#fff;mix-blend-mode:multiply}body:not(.not-pixelization) .shadow{filter:url(#pixelate-shadow)}.shadow__inner{width:100%;height:100%;opacity:.7;translate:var(--translate-shadow-x) var(--translate-shadow-y);filter:brightness(0)}.unit-ui-wrapper{position:absolute;z-index:9999;left:0;bottom:0}.unit--active .unit-ui-wrapper__name{opacity:1;translate:0 0;filter:brightness(1)}.unit--active .unit-ui-wrapper-hp-wrapper{border-radius:4px 4px 0 0}.battle-ui-unit__name{font-size:14px}.unit-ui-status-wrapper{position:relative;gap:4px;width:min-content;font-size:16px;padding:2px 3px;background:#000;border-radius:4px}.unit-ui-hp-wrapper{gap:4px}.unit-ui-defence-wrapper{gap:3px}.unit-ui-defence-wrapper{color:#858585}.unit-ui-wrapper__name{width:max-content;color:#000;background-color:gold;font-size:12px;padding:2px 3px;border-radius:0px 4px 4px 4px;opacity:0;translate:0 20px;filter:brightness(0);transition:all var(--ease-out-back) .5s .3s}.unit-ui-taken-damage{position:absolute;right:0;bottom:0;color:#fff;background:red;font-weight:500;padding:2px 4px;translate:100%;border-radius:4px;opacity:0}.unit--damaging .unit-ui-taken-damage{animation:show-damage 1s var(--ease-out-quint) 1 forwards;transform-origin:left}@keyframes show-damage{0%{opacity:1}60%{opacity:1}100%{translate:0 100px;scale:2;opacity:0}}.unit--enemy .unit-ui-wrapper__name{background-color:red}.unit--hovered .sprite{filter:drop-shadow(0px 0px 20px rgba(255, 0, 0, 0.1254901961)) drop-shadow(2px 2px 0 red) drop-shadow(2px -2px 0 red) drop-shadow(-2px -2px 0 red) drop-shadow(-2px 2px 0 red) !important}.unit--damaging .sprite{transform-origin:bottom;animation:take-damage .3s var(--ease-out-quint) forwards}@keyframes take-damage{75%{filter:sepia(1) saturate(5) hue-rotate(-50deg) contrast(1.5);transform-origin:bottom;rotate:15deg;scale:.8}}.unit--damaging .unit-ui-status-wrapper{animation:shake .5s var(--ease-out-quint) 1 forwards}@keyframes shake{0%{transform:translate(1px, 1px) rotate(0deg)}10%{transform:translate(-1px, -2px) rotate(-2deg)}20%{transform:translate(-3px, 0px) rotate(2deg)}30%{transform:translate(3px, 2px) rotate(0deg)}40%{transform:translate(1px, -1px) rotate(1deg)}50%{transform:translate(-1px, 2px) rotate(-1deg)}60%{transform:translate(-3px, 1px) rotate(0deg)}70%{transform:translate(3px, 1px) rotate(-2deg)}80%{transform:translate(-1px, -1px) rotate(-2px)}90%{transform:translate(1px, 2px) rotate(0deg)}100%{transform:translate(1px, -2px) rotate(-1deg)}}.unit--died .sprite,.unit--died .shadow{opacity:0;transition:opacity var(--ease-out-quint) 2s 3s}.unit--died .unit-ui-wrapper{transition:opacity var(--ease-out-quint) .5s;opacity:0}.battle--end .unit-ui-wrapper{opacity:0;transition:opacity var(--ease-out-quint) 1s}.cell{opacity:.5}.cell:hover{opacity:1}.battle--end .cell{transition:opacity var(--ease-out-quint) 1s;opacity:0 !important}.background{position:absolute;width:100lvw;height:100lvh;z-index:-1}.background--mid{width:100lvw;height:100lvh;object-fit:cover;object-position:top left;scale:1.5;translate:0 -125px}.background--back{width:100lvw;object-position:top left;object-fit:cover}.main-menu-background__image{object-fit:cover;width:100lvw;height:100lvh}.main-menu{height:100lvh;align-items:center}.main-menu-logo{position:relative;margin-bottom:auto;translate:0 -500px;filter:brightness(0) contrast(2);scale:1.2;animation:1s 2s var(--ease-out-quint) show-logo forwards,3s 2s var(--ease-out-quint) show-background forwards}.main-menu-logo__image{position:relative;z-index:1;filter:drop-shadow(0 10px 0px black)}.main-menu-logo__animation{position:absolute;width:100lvw;height:320px;top:30px;left:calc(50% - 50lvw);mix-blend-mode:screen;filter:url(#pixelate-strong);mask-image:radial-gradient(white 0%, transparent 80%)}@keyframes show-logo{to{translate:0 0}}.menu{gap:0px;padding-bottom:40px;filter:brightness(0) contrast(2);translate:0 280px;animation:1s 2s var(--ease-out-back) show-menu forwards,3s 2s var(--ease-out-quint) show-background forwards}.menu--main{position:relative;top:-300px;pointer-events:none;opacity:0;transition:top var(--ease-out-back) .5s,opacity var(--ease-out-quint) .3s,pointer-events linear .5s .5s}.menu--main.menu--show{top:0;opacity:1;pointer-events:initial}.menu--settings{position:absolute;bottom:-350px;pointer-events:none;transition:bottom var(--ease-out-back) .5s,pointer-events linear .5s .5s}.menu--settings.menu--show{bottom:0;pointer-events:initial}.button{padding:24px 64px;border-radius:4px;border:none;background:#363030;transition:background-color var(--ease-out-quint) .3s;cursor:pointer}.button:hover{background:#241c1c;transition:none}.button--primary{position:relative;background:#f0f;overflow:hidden}.button--primary:hover{background:#b100f0}.button--primary:after{content:"";position:absolute;width:200%;height:240px;right:0;top:-40px;background-color:#000;background-image:linear-gradient(45deg, black 45%, white 49%, white 51%, black 55%);mix-blend-mode:screen;filter:url(#pixelate-strong);translate:-1000px 0;animation:4s linear light-ray forwards infinite}@keyframes light-ray{to{translate:1000px 0}}body.not-blend-modes .button--primary::after{content:initial}body.not-pixelization .button--primary::after{filter:initial}.toggle-holder{align-items:center}.toggle-holder:hover .toggle__input{background:#241c1c;transition:none}.toggle-holder:hover .toggle__input:checked{background:#b100f0}.toggle__input{appearance:none;position:relative;width:70px;height:40px;background:#363030;border-radius:4px;transition:background-color var(--ease-out-quint) .3s;pointer-events:none}.toggle__input::after{content:"";position:absolute;margin:4px;height:32px;width:32px;translate:0 0;rotate:0deg;transition:translate var(--ease-out-back) .3s,rotate var(--ease-out-back) .3s;background:#fff}.toggle__input:checked{background:#f0f}.toggle__input:checked::after{rotate:90deg;translate:30px 0}.toggle__lable{padding-left:8px;pointer-events:none}@keyframes show-menu{to{translate:0 0;gap:20px}}.main-menu-background__fog{position:absolute;width:100lvw;height:100lvh}body:not(.not-pixelization) .main-menu-background__fog{filter:url(#pixelate-strong) contrast(2)}body:not(.not-blend-modes) .main-menu-background__fog{mix-blend-mode:color-dodge}body.not-blend-modes .main-menu-background__fog{opacity:.2}body.not-fs-effects .main-menu-background__fog{display:none}body.not-pixelization .main-menu-background__fog{filter:contrast(2)}.main-menu-background{width:100lvw;height:100lvh;position:absolute;filter:brightness(0) contrast(2);scale:1.2;z-index:-1;animation:5s var(--ease-out-quint) show-background forwards}@keyframes show-background{to{filter:brightness(1) contrast(1);scale:1}}.loadscreen{justify-content:center;align-items:center;gap:8px;height:100lvh;background-color:#000;opacity:0;animation:.3s .5s var(--ease-out-quint) show-loadscreen© forwards}@keyframes show-loadscreen{to{opacity:1}}.loadscreen__indicator{font-size:100px;rotate:0;animation:1s linear rotate-indicator forwards infinite}@keyframes rotate-indicator{to{rotate:1turn}}.battle-ui{position:absolute;align-items:end;bottom:0;z-index:10000;perspective:60px;perspective-origin:bottom left;pointer-events:none}.battle-ui-unit-wrapper{position:relative;width:130px;height:170px;overflow:hidden}.battle-ui-unit-wrapper::before{content:"";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px;background-image:var(--before-background, linear-gradient(45deg, black, black, gold))}.battle-ui-unit-attributes{position:absolute;height:100%;gap:4px;bottom:0;font-size:16px;padding:8px}.battle-ui-unit__name{width:max-content;margin-bottom:auto;background:gold;color:#000;font-size:12px;padding:2px 3px;border-radius:0 0 4px 0;translate:-8px -8px}.battle-ui-unit-status-wrapper{gap:4px}.battle-ui-unit-defence-wrapper{gap:3px}body:has(.unit--defence-up) .battle-ui-unit-defence-wrapper{animation:unit-defence-up .3s var(--ease-out-quint) forwards}@keyframes unit-defence-up{0%{filter:brightness(1);scale:1}75%{filter:brightness(2);scale:2}100%{filter:brightness(1);scale:1}}.battle-ui-unit-hp-wrapper,.battle-ui-unit-attack-wrapper{gap:4px}.battle-ui-unit-defence-wrapper{color:#858585}.battle-ui-unit-portrait-wrapper{position:absolute;width:100%;height:100%}.battle-ui-unit-portrait-wrapper::after{content:"";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px;background-image:linear-gradient(30deg, black, black, transparent, transparent, transparent)}body:not(.not-blend-modes) .battle-ui-unit-portrait-wrapper::after{background-image:linear-gradient(30deg, black, black, white, white, white);mix-blend-mode:multiply}.battle-ui-unit__portrait{width:100%;height:100%;translate:0 0;animation:.5s var(--ease-out-quint) portrait-in forwards}.battle-ui-unit__portrait--out{animation:.5s var(--ease-out-quint) portrait-out forwards}@keyframes portrait-in{from{translate:130px 0}to{translate:0 0}}@keyframes portrait-out{from{translate:0 0}to{translate:-130px 0}}.battle-ui-queue-wrapper{background-color:#241c1c;padding:4px 4px;gap:4px;overflow:hidden;transform:rotate3d(0, 1, 0, 10deg);transform-origin:left bottom;scale:2.2;transition:width var(--ease-out-quint) .5s,padding var(--ease-out-quint) .5s}.ui-queue-item{background-color:#000;border-radius:4px;width:50px;height:69px;flex-shrink:0;transition:var(--transition, translate var(--ease-out-quint) 0.5s 0.5s);translate:var(--queue-x, 0) 0;overflow:hidden}.ui-queue-item--to-remove{transition:width var(--ease-out-quint) .5s !important;width:0px}.ui-queue-item__image{width:100%;height:100%;translate:-10px 0}.battle--end .battle-ui{animation:hide-battle-ui 1s var(--ease-out-quint) 1 forwards}@keyframes hide-battle-ui{from{translate:0 0}to{translate:0 170px}}.battle-end{justify-content:center;align-items:center;height:100lvh;background-color:rgba(0,0,0,.6666666667);z-index:10000;animation:show-dimmer .5s var(--ease-out-quint) 1s 1 forwards}@keyframes show-dimmer{from{background-color:rgba(0,0,0,0)}to{background-color:rgba(0,0,0,.6666666667)}}.battle-end-wrapper{background-color:#241c1c;padding:32px 40px 48px;width:500px;border-radius:4px;animation:show-battle-end-wrapper .5s var(--ease-out-back) 1s 1 forwards;opacity:0}@keyframes show-battle-end-wrapper{from{opacity:0;translate:0 -120px;scale:1.2}50%{rotate:5deg}to{scale:1;opacity:1}}.battle-end-header{margin-bottom:32px;text-align:center}.battle-end-menu{gap:20px}.battle-end-header__image{width:250px;animation:show-crest 1s var(--ease-out-back) 1s 1 forwards}@keyframes show-crest{from{scale:1.2}25%{rotate:-5deg}50%{rotate:0deg}to{scale:1}}.hide{display:none !important}.flex{display:flex}.column{flex-direction:column}.freeze{pointer-events:none !important}',""]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},81:t=>{t.exports=function(t){return t[1]}},273:(t,e,n)=>{n.r(e),n.d(e,{default:()=>y});var r=n(379),o=n.n(r),i=n(795),a=n.n(i),s=n(569),c=n.n(s),l=n(565),u=n.n(l),p=n(216),d=n.n(p),f=n(589),m=n.n(f),h=n(99),g={};g.styleTagTransform=m(),g.setAttributes=u(),g.insert=c().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=d(),o()(h.Z,g);const y=h.Z&&h.Z.locals?h.Z.locals:void 0},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var c=t[s],l=r.base?c[0]+r.base:c[0],u=i[l]||0,p="".concat(l," ").concat(u);i[l]=u+1;var d=n(p),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var m=o(f,r);r.byIndex=s,e.splice(s,0,{identifier:p,updater:m,references:1})}a.push(p)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var c=r(t,o),l=0;l<i.length;l++){var u=n(i[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=c}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},681:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Game=void 0;var r=n(772),o=n(994);e.Game=function(){this.sceneManager=new r.SceneManager,this.sceneManager.loadScene(new o.SceneLoad)}},200:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AssetManager=void 0;var n=function(){function t(t){this.loadedAssets=[],this.totalAssets=0,this.assetUrls=t,this.totalAssets=t.length}return t.prototype.loadAssets=function(t){var e=this;if(0!==this.totalAssets){var n=0;this.assetUrls.forEach((function(r){var o,i,a=null===(o=r.split(".").pop())||void 0===o?void 0:o.toLowerCase();"png"===a||"jpg"===a||"jpeg"===a||"gif"===a?((i=new Image).src=r,i.onload=function(){e.loadedAssets.push(i),n++,console.log("Image loaded: ".concat(r)),e.checkCompletion(n,t)},i.onerror=function(){console.error("Failed to load image: ".concat(r)),n++,e.checkCompletion(n,t)}):"mp3"===a||"wav"===a||"ogg"===a?((i=new Audio(r)).oncanplaythrough=function(){e.loadedAssets.push(i),n++,console.log("Audio loaded: ".concat(r)),e.checkCompletion(n,t)},i.onerror=function(){console.error("Failed to load audio: ".concat(r)),n++,e.checkCompletion(n,t)}):(console.warn("Unsupported file type for URL: ".concat(r)),n++,e.checkCompletion(n,t))}))}else t()},t.prototype.checkCompletion=function(t,e){t===this.totalAssets&&(console.log("All assets processed (some may have failed)."),e())},t.prototype.getLoadedAssets=function(){return this.loadedAssets},t}();e.AssetManager=n},327:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AudioManager=void 0;var n=function(){function t(){this.audio=new Audio}return t.prototype.setSource=function(t){this.audio.src=t},t.prototype.playOnce=function(){this.audio.loop=!1,this.playAudio()},t.prototype.playLoop=function(){this.audio.loop=!0,this.playAudio()},t.prototype.stop=function(){this.audio.pause(),this.audio.currentTime=0},t.prototype.playAudio=function(){var t=this.audio.play();void 0!==t&&t.then((function(){})).catch((function(t){}))},t.prototype.setVolume=function(t,e){var n=this;if(t<0||t>1)console.error("Громкость должна быть в диапазоне от 0.0 до 1.0");else if(e&&e>0){var r=this.audio.volume,o=t-r,i=0,a=function(){i++;var t=r+o*(i/100);n.audio.volume=Math.min(Math.max(t,0),1),i<100&&requestAnimationFrame(a)};a()}else this.audio.volume=t},t}();e.AudioManager=n},450:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BattleUIManager=void 0;var r=n(279),o=function(){function t(){this.queueIteration=0,this.orderIteration=0,this.viewportRootElement=document.querySelector("body main")}return t.prototype.renderUI=function(){(0,r.renderTemplate)("#js-battle-ui",this.viewportRootElement),this.battleUI=document.querySelector(".battle-ui")},t.prototype.updateUI=function(t){this.battleUI.querySelector(".battle-ui-unit__name").textContent=t.name,this.battleUI.querySelector(".battle-ui-unit-ui-wrapper__hp").textContent=t.getHp().toString(),this.battleUI.querySelector(".battle-ui-unit-ui-wrapper__defence").textContent=t.getDefence().toString(),this.battleUI.querySelector(".battle-ui-unit-ui-wrapper__attack").textContent=t.getAttackString(),this.battleUI.querySelector(".battle-ui-unit__portrait").src=t.getPortraitSource();var e=this.battleUI.querySelector(".battle-ui-unit-wrapper");t.enemy?(e.style.setProperty("--before-background","linear-gradient(45deg, black, black, red)"),this.battleUI.querySelector(".battle-ui-unit__name").style.background="red"):(this.battleUI.querySelector(".battle-ui-unit__name").style.background="gold",e.style.setProperty("--before-background","linear-gradient(45deg, black, black, gold)"))},t.prototype.renderQueue=function(t){this.unitQueue=t;var e=this.battleUI.querySelector(".battle-ui-queue-wrapper");e.innerHTML="",this.battleUI.querySelector(".battle-ui-queue-wrapper").style.width="".concat(54*(t.length-1)+4,"px");var n=!0;t.forEach((function(t){n||(0,r.renderTemplate)("#js-ui-queue-item",e,(function(e){var n=e.querySelector(".ui-queue-item"),r=e.querySelector(".ui-queue-item__image");r.src=t.getPortraitSource(),n.setAttribute("data-unit-id",t.id),t.enemy?r.style.backgroundImage="radial-gradient(circle at top left, red, transparent 50%)":r.style.backgroundImage="radial-gradient(circle at top left, gold, transparent 50%)"})),n=!1})),(0,r.renderTemplate)("#js-ui-queue-item",e,(function(e){e.querySelector(".ui-queue-item__image").src=t[0].getPortraitSource();var n=e.querySelector(".ui-queue-item"),r=e.querySelector(".ui-queue-item__image");n.setAttribute("data-unit-id",t[0].id),t[0].enemy?r.style.backgroundImage="radial-gradient(circle at top left, red, transparent 50%)":r.style.backgroundImage="radial-gradient(circle at top left, gold, transparent 50%)"}))},t.prototype.setUpQueueWidth=function(){this.battleUI.querySelector(".battle-ui-queue-wrapper").style.width="".concat(54*(this.unitQueue.length-1)+4,"px"),1==this.unitQueue.length&&(this.battleUI.querySelector(".battle-ui-queue-wrapper").style.width="0px",this.battleUI.querySelector(".battle-ui-queue-wrapper").style.paddingLeft="0px",this.battleUI.querySelector(".battle-ui-queue-wrapper").style.paddingRight="0px")},t.prototype.removeUnitFromQueue=function(t){var e=document.querySelector('.ui-queue-item[data-unit-id="'.concat(t.id,'"]'));e.classList.add("ui-queue-item--to-remove"),setTimeout((function(){e.remove()}),500)},t.prototype.updateQueue=function(t){this.unitQueue=t,this.setUpQueueWidth()},t.prototype.nextQueueUnit=function(t){var e=this;this.battleUI.querySelector(".battle-ui-unit__portrait").classList.add("battle-ui-unit__portrait--out"),setTimeout((function(){e.battleUI.querySelector(".battle-ui-unit__portrait").classList.remove("battle-ui-unit__portrait--out")}),500),this.orderIteration+=1,this.battleUI.querySelector(".battle-ui-queue-wrapper").style.setProperty("--transition","translate var(--ease-out-quint) .5s .5s"),this.battleUI.querySelector(".battle-ui-queue-wrapper").style.setProperty("--queue-x","-54px"),setTimeout((function(){e.battleUI.querySelector(".battle-ui-queue-wrapper").style.setProperty("--transition","none"),e.battleUI.querySelector(".battle-ui-queue-wrapper").style.setProperty("--queue-x","0px"),e.battleUI.querySelector('.battle-ui-queue-wrapper .ui-queue-item[data-unit-id="'.concat(t.id,'"]')).style.order=e.orderIteration.toString()}),1e3)},t}();e.BattleUIManager=o},884:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BattleGrid=void 0;var r=n(25),o=n(130),i=function(){function t(){this.grid=Array.from({length:6},(function(){return Array.from({length:9},(function(){return{cell:new o.Cell,unit:null}}))})),this.renderGrid()}return t.prototype.renderGrid=function(){var t=(0,r.getScreenDimensions)(),e=t.width/2-762+50,n=t.height/2-284.5+37.5;this.grid.forEach((function(t,r){t.forEach((function(t,o){var i=t.cell;i.renderCell(e+170*o,n+96*r),i.rootElement.setAttribute("data-i",o.toString()),i.rootElement.setAttribute("data-j",r.toString()),0!=o&&8!=o||i.block()}))}))},t.prototype.blockCell=function(t,e){this.grid[t][e].block()},t.prototype.bindUnit=function(t,e,n){this.grid[t][e].unit=n},t.prototype.getCell=function(t,e){return this.grid[t][e]},t.prototype.findUnit=function(t){for(var e=0;e<this.grid.length;e++)for(var n=0;n<this.grid[e].length;n++)if(null!=this.grid[e][n].unit&&this.grid[e][n].unit===t)return this.grid[e][n];return null},t.prototype.findIJByUnit=function(t){for(var e=0;e<this.grid.length;e++)for(var n=0;n<this.grid[e].length;n++)if(null!=this.grid[e][n].unit&&this.grid[e][n].unit===t)return{i:e,j:n};return null},t.prototype.findIJByCell=function(t){for(var e=0;e<this.grid.length;e++)for(var n=0;n<this.grid[e].length;n++)if(null!=this.grid[e][n].cell&&this.grid[e][n].cell===t)return{i:e,j:n};return null},t}();e.BattleGrid=i},130:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CellState=e.Cell=void 0;var i,a=n(949),s=n(601);!function(t){t[t.Idle=0]="Idle",t[t.Blocked=1]="Blocked"}(i||(i={})),e.CellState=i;var c=function(t){function e(){var e=t.call(this)||this;return e._rootElement.classList.add("cell"),e.transform.size.x=164,e.transform.size.y=90,e.state=i.Idle,e.spriteRenderer.spriteSrc="./assets/cell.png",e}return o(e,t),e.prototype.render=function(){t.prototype.render.call(this),this.rootElement.style.width="".concat(this.transform.size.x,"px"),this.rootElement.style.height="".concat(this.transform.size.y,"px"),this.rootElement.setAttribute("data-x",(this.rootElement.offsetLeft+this.transform.size.x/2).toString()),this.rootElement.setAttribute("data-y",(this.rootElement.offsetTop+this.transform.size.y/2-10).toString()),this.spriteElement.style.left="0px"},e.prototype.renderCell=function(t,e){this.spriteRenderer.spriteSrc="./assets/cell.png",this.moveToInstant(t,e)},e.prototype.moveToInstant=function(e,n){t.prototype.moveTo.call(this,e,n)},e.prototype.block=function(){this.spriteRenderer.spriteSrc="./assets/cell-blocked.png",this.rootElement.classList.add("cell--blocked"),this.state=i.Blocked,this.render()},e.prototype.unblock=function(){this.spriteRenderer.spriteSrc="./assets/cell.png",this.rootElement.classList.remove("cell--blocked"),this.state=i.Idle,this.render()},e.prototype.addGoAndAttack=function(){this.rootElement.style.background="red",this.rootElement.style.opacity=".8"},e.prototype.removeGoAndAttack=function(){this.rootElement.style.background="",this.rootElement.style.opacity=""},e.instantiate=function(t){return a.ObjectPool.push(t),t},e}(s.SpriteObject);e.Cell=c},144:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EngineObject=void 0;var n=function(){function t(){this.isDebug=!1,this._id=Date.now().toString()}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"Объект с ID — ".concat(this.id)},t}();e.EngineObject=n},594:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GameObject=void 0;var i=n(949),a=n(144),s=n(972),c=function(t){function e(){var e=t.call(this)||this;return e._viewportElement=document.querySelector("main"),e._transform=new s.Transform,e._rootElement=document.createElement("div"),e._rootElement.className="transform",e}return o(e,t),Object.defineProperty(e.prototype,"transform",{get:function(){return this._transform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rootElement",{get:function(){return this._rootElement},enumerable:!1,configurable:!0}),e.prototype.render=function(){this.rootElement.style.width="".concat(this.transform.size.x,"px"),this.rootElement.style.height="".concat(this.transform.size.y,"px"),this.rootElement.style.width="100px",this.rootElement.style.height="100px",this.rootElement.style.top="".concat(this.transform.y,"px"),this.rootElement.style.left="".concat(this.transform.x,"px"),this._viewportElement.contains(this.rootElement)||this._viewportElement.appendChild(this.rootElement)},e.instantiate=function(t){return i.ObjectPool.push(t),t},e}(a.EngineObject);e.GameObject=c},941:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectIterator=void 0;var n=function(){function t(t){this.objects=t,this.currentIndex=0}return t.prototype.updateObject=function(t){this.objects=t},t.prototype.getCurrent=function(){return this.objects[this.currentIndex]},t.prototype.next=function(){this.currentIndex=(this.currentIndex+1)%this.objects.length},t.prototype.previous=function(){this.currentIndex=(this.currentIndex-1+this.objects.length)%this.objects.length},t.prototype.isBefore=function(t,e){var n=this.objects.indexOf(t),r=this.objects.indexOf(e);if(-1===n||-1===r)throw new Error("Один или оба объекта не найдены в массиве.");return n<r},t}();e.ObjectIterator=n},601:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SpriteObject=void 0;var i=n(219),a=n(949),s=n(594),c=n(250),l=function(t){function e(){var e=t.call(this)||this;return e._spriteRenderer=new c.SpriteRenderer,e.spriteRenderer.spriteSrc=i.Debug.isDebug||e.isDebug?"./assets/Brome_Warcrest_Idle.gif":null,e._spriteElement=document.createElement("img"),e._spriteElement.className="sprite",e}return o(e,t),Object.defineProperty(e.prototype,"spriteRenderer",{get:function(){return this._spriteRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spriteElement",{get:function(){return this._spriteElement},enumerable:!1,configurable:!0}),e.prototype.render=function(){t.prototype.render.call(this),this.spriteElement.style.width="".concat(this.transform.size.x,"px"),this.spriteElement.style.height="".concat(this.transform.size.y,"px"),this.spriteElement.style.left="-".concat(this.transform.size.x/2-50,"px"),this.spriteElement.style.bottom="0",this.spriteElement.style.transform="scale(".concat(this.transform.xDirection,", ").concat(this.transform.yDirection,")"),this.spriteElement.src=this.spriteRenderer.spriteSrc,this.spriteElement.draggable=!1,this.rootElement.contains(this.spriteElement)||this.rootElement.appendChild(this.spriteElement)},e.prototype.moveTo=function(t,e){this._transform.x=t+this._transform.pivot.x,this._transform.y=e+this._transform.pivot.y,this.spriteElement.style.zIndex=String(1e3+this.transform.y),this.render()},e.prototype.flipX=function(){this._transform.xDirection*=-1,this.render()},e.prototype.flipY=function(){this._transform.yDirection*=-1,this.render()},e.instantiate=function(t){return a.ObjectPool.push(t),t},e}(s.GameObject);e.SpriteObject=l},250:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SpriteRenderer=void 0;e.SpriteRenderer=function(){}},972:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Transform=void 0;e.Transform=function(t,e,n,r,o,i,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=240),void 0===r&&(r=240),void 0===o&&(o=1),void 0===i&&(i=1),this.x=t,this.y=e,this.size={x:n,y:r},this.xDirection=o,this.yDirection=i,this.pivot=a||{x:-50,y:-50}}},180:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Scene=void 0;var r=n(327),o=n(597),i=function(){function t(){this.music=new r.AudioManager,this.uiSound=new r.AudioManager,this.viewportRootElement=document.querySelector("body main")}return t.prototype.load=function(){},t.prototype.bindEvents=function(){},t.prototype.unload=function(){this.music.stop,this.viewportRootElement.innerHTML=""},t.prototype.playGlobalUISound=function(t){o.Settings.allowMusic&&(this.uiSound.setSource(t),this.uiSound.playOnce())},t.prototype.playLocalUISound=function(t){if(o.Settings.allowMusic){var e=new r.AudioManager;e.setSource(t),e.playOnce()}},t}();e.Scene=i},772:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SceneManager=void 0;var n=function(){function t(){var t=this;document.addEventListener("loadnextscene",(function(e){t.loadScene(e.detail.scene)}))}return t.prototype.loadScene=function(t){this.currentScene&&this.currentScene.unload(),this.currentScene=t,this.currentScene.load()},t}();e.SceneManager=n},729:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SceneBattle=void 0;var i=n(180),a=n(887),s=n(941),c=n(597),l=n(279),u=n(450),p=n(884),d=n(130),f=n(720),m=n(720),h=n(289),g=n(451),y=n(543),v=n(445),b=n(429),_=n(191),x=n(828),w=n(812),k=n(70),S=n(505),E=n(984),U=n(278),T=n(614),j=n(25),A=function(t){function e(){var e=t.call(this)||this;return e.canTurn=!1,e.shifts=[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],e.allyUnits={bromeWarcrest:m.Unit.instantiate(new h.BromeWarcrest),sunWisp:m.Unit.instantiate(new g.SunWisp),silverguardSquire:m.Unit.instantiate(new _.SilverguardSquire),sunriseCleric:m.Unit.instantiate(new v.SunriseCleric),gryphonFledgling:m.Unit.instantiate(new b.GryphonFledgling),indominus:m.Unit.instantiate(new y.Indominus)},e.enemyUnits={maehvSkinsolder:m.Unit.instantiate(new x.MaehvSkinsolder),abbysalCrawler:m.Unit.instantiate(new w.AbyssalCrawler),bloodSiren:m.Unit.instantiate(new k.BloodSiren),shadowWatcher:m.Unit.instantiate(new S.ShadowWatcher),vorpalReaver:m.Unit.instantiate(new U.VorpalReaver),abyssalJuggernaut:m.Unit.instantiate(new E.AbyssalJuggernaut)},e.cellToRun=null,e.unitToAttack=null,e.music.setVolume(0),e.battleUIManager=new u.BattleUIManager,e}return o(e,t),e.prototype.load=function(){this.viewportRootElement.classList.add("scene--fade-in"),this.viewportRootElement.classList.remove("scene--to-next"),this.music.setVolume(.25,2),(0,l.renderTemplate)("#js-battle-background",this.viewportRootElement),this.battleUIManager.renderUI(),this.battleGrid=new p.BattleGrid,this.initUnits(),this.bindEvents(),this.playGlobalMusic("./assets/battlemusic-2.wav")},e.prototype.initUnits=function(){var t=this,e=(0,j.getScreenDimensions)(),n=e.width/2-762+50+39.5,r=e.height/2-284.5+30-7.5;this.renderUnits(this.allyUnits,n,r,96,!1),this.renderUnits(this.enemyUnits,n+1352.5,r,96,!0),this.unitQueue=[this.allyUnits.bromeWarcrest,this.enemyUnits.maehvSkinsolder,this.allyUnits.sunWisp,this.enemyUnits.abbysalCrawler,this.allyUnits.silverguardSquire,this.enemyUnits.bloodSiren,this.allyUnits.sunriseCleric,this.enemyUnits.shadowWatcher,this.allyUnits.gryphonFledgling,this.enemyUnits.vorpalReaver,this.allyUnits.indominus,this.enemyUnits.abyssalJuggernaut],this.battleUIManager.renderQueue(this.unitQueue),this.unitIterator=new s.ObjectIterator(this.unitQueue),this.activeUnit=this.unitQueue[0],this.battleUIManager.updateUI(this.activeUnit),setTimeout((function(){t.unitQueue[0].toggleActive(),t.canTurn=!0}),1e3)},e.prototype.renderUnits=function(t,e,n,r,o){var i=this;Object.values(t).forEach((function(t,a){o?(i.battleGrid.bindUnit(a,8,t),t.setEnemy()):(i.battleGrid.bindUnit(a,0,t),t.setAlly()),t.moveToInstant(e,n+r*a),t.idle()}))},e.prototype.removeUnitFromGroup=function(t,e){for(var n in e)if(e[n]===t){delete e[n];break}},e.prototype.bindEvents=function(){var t=this;document.addEventListener("keyup",(function(e){"Space"===e.code&&(t.activeUnit.enemy||t.unitDefenceUp())})),document.addEventListener("mouseup",(function(n){if(t.canTurn){var r=n.target,o=r.parentElement,i=Number(r.parentElement.getAttribute("data-i")),a=Number(r.parentElement.getAttribute("data-j"));o&&o.classList.contains("cell")&&t.activeUnit.state==f.UnitState.Idle&&!o.classList.contains("cell--blocked")&&t.unitMoveTo(i,a),o&&o.classList.contains("cell")&&t.activeUnit.state==f.UnitState.Idle&&o.classList.contains("cell--blocked")&&t.cellToRun&&(t.unitAttack(t.cellToRun),e(n),t.cellToRun=null)}}));var e=function(e){var n,r,o=e.target;if(o.parentElement.classList.contains("cell")){n=Number(o.parentElement.getAttribute("data-i")),r=Number(o.parentElement.getAttribute("data-j"));var i=t.battleGrid.getCell(r,n),a=i.unit;a&&(t.activeUnit.enemy&&!a.enemy||!t.activeUnit.enemy&&a.enemy&&t.canTurn)&&t.hoverEnemy(e,a,i,n,r);var s=function(e){t.cellToRun=null,a&&(a.unhover(),t.clearNearCells(n,r)),document.body.style.cursor="default",i.cell.rootElement.removeEventListener("mouseout",s)};i.cell.rootElement.addEventListener("mouseout",s)}};document.addEventListener("mousemove",e),document.addEventListener("unitrunend",(function(e){t.activeUnit.runToAttack?((-1==t.activeUnit.transform.xDirection&&t.unitToAttack.transform.x>t.activeUnit.transform.x||1==t.activeUnit.transform.xDirection&&t.unitToAttack.transform.x<t.activeUnit.transform.x)&&t.activeUnit.flipX(),t.activeUnit.attack(),setTimeout((function(){t.unitToAttack.takeDamage(t.activeUnit.getDamage())}),t.activeUnit.attackTime/2),t.activeUnit.enemy?setTimeout((function(){t.canTurn=!0}),t.activeUnit.attackTime+1e3):t.canTurn=!0):t.nextUnitTurn()})),document.addEventListener("unitdied",(function(e){try{var n=e.detail.unit;t.battleGrid.findUnit(n).cell.unblock();var r=t.battleGrid.findIJByUnit(n),o=r.i,i=r.j;t.battleGrid.bindUnit(o,i,null),n.enemy?(t.removeUnitFromGroup(n,t.enemyUnits),0==Object.values(t.enemyUnits).length&&t.battleEnd(!0)):(t.removeUnitFromGroup(n,t.allyUnits),0==Object.values(t.allyUnits).length&&t.battleEnd(!1)),t.unitIterator.isBefore(n,t.activeUnit)&&t.unitIterator.previous(),t.unitQueue=t.unitQueue.filter((function(t){return t!==n})),t.unitIterator.updateObject(t.unitQueue),t.battleUIManager.updateQueue(t.unitQueue),t.battleUIManager.removeUnitFromQueue(n)}catch(t){}}))},e.prototype.clearNearCells=function(t,e){var n=this;this.shifts.forEach((function(r){var o=r[0],i=r[1],a=t+o,s=e+i;if(a>=0&&a<=8&&s>=0&&s<=5){var c=n.battleGrid.getCell(s,a);c&&c.cell.removeGoAndAttack()}}))},e.prototype.hoverEnemy=function(t,e,n,r,o){var i,a,s,c=(0,T.calculateAngle)(n.cell.transform.x+82,n.cell.transform.y+45,t.clientX,t.clientY);this.clearNearCells(r,o);var l,u=(c%360+360)%360,p=Math.floor((u+22.5)/45)%8;a=(i=this.shifts[p])[0],s=i[1],0===a&&0===s?l="default":a<0&&s<0?l="nw-resize":a<0&&0===s?l="ew-resize":a<0&&s>0?l="sw-resize":0===a&&s<0||0===a&&s>0?l="ns-resize":a>0&&s<0?l="ne-resize":a>0&&0===s?l="ew-resize":a>0&&s>0&&(l="se-resize"),document.body.style.cursor=l;try{var f=this.battleGrid.getCell(o+s,r+a);f.unit!=this.activeUnit&&f.cell.state==d.CellState.Blocked||!this.canTurn||(e.hover(),f.cell.addGoAndAttack(),this.cellToRun=f,this.unitToAttack=e)}catch(t){}},e.prototype.nextUnitTurn=function(){var t=this;(this.canTurn||this.activeUnit.enemy)&&(this.canTurn=!1,this.activeUnit.toggleActive(),this.unitIterator.next(),this.activeUnit=this.unitIterator.getCurrent(),this.battleUIManager.nextQueueUnit(this.activeUnit),setTimeout((function(){t.battleUIManager.updateUI(t.activeUnit)}),500),setTimeout((function(){t.activeUnit.toggleActive(),t.activeUnit.enemy?t.viewportRootElement.classList.contains("battle--end")||t.aIStartMove():t.canTurn=!0}),1e3))},e.prototype.aIStartMove=function(){this.canTurn=!1;var t=this.getRandomUnit(this.allyUnits),e=this.getRandomCellNearUnit(t);if(!e)return 1===Object.values(this.allyUnits).length?void this.unitDefenceUp():void this.aIStartMove();this.unitToAttack=t,this.unitAttack(this.battleGrid.getCell(e.i,e.j))},e.prototype.getRandomUnit=function(t){var e=Object.keys(t),n=Math.floor(Math.random()*e.length);return console.log(t[e[n]]),t[e[n]]},e.prototype.getRandomCellNearUnit=function(t){var e=this.battleGrid.findIJByUnit(t),n=e.i,r=e.j,o=this.shifts;console.log(o);for(var i=!1,a=0;a<o.length;a++){var s=o[a],c=n+s[0],l=r+s[1];if(c>=0&&c<this.battleGrid.grid.length&&l>=0&&l<this.battleGrid.grid[c].length){var u=this.battleGrid.getCell(c,l);if(u.cell.state!==d.CellState.Blocked||u.unit==this.activeUnit)return i=!0,{i:c,j:l}}}if(!i)return null},e.prototype.unitDefenceUp=function(){var t=this;(this.canTurn||this.activeUnit.enemy)&&this.activeUnit.state==f.UnitState.Idle&&(this.activeUnit.defenceUp(),this.battleUIManager.updateUI(this.activeUnit),setTimeout((function(){t.nextUnitTurn()}),300),this.playGlobalUISound("./assets/defense.mp3"))},e.prototype.unitMoveTo=function(t,e){this.battleGrid.findUnit(this.activeUnit).cell.unblock();var n=this.battleGrid.findIJByUnit(this.activeUnit);this.battleGrid.bindUnit(n.i,n.j,null),this.battleGrid.bindUnit(e,t,this.activeUnit),this.battleGrid.findUnit(this.activeUnit).cell.block(),this.activeUnit.moveTo(Number(this.battleGrid.getCell(e,t).cell.rootElement.getAttribute("data-x")),Number(this.battleGrid.getCell(e,t).cell.rootElement.getAttribute("data-y")))},e.prototype.unitAttack=function(t){var e=this;if(!t.unit||!(this.activeUnit.enemy&&!t.unit.enemy||!this.activeUnit.enemy&&t.unit.enemy&&(this.canTurn||this.activeUnit.enemy))){this.canTurn=!1,this.activeUnit.runToAttack=!0;var n=this.battleGrid.findIJByCell(t.cell),r=n.i,o=n.j;this.clearNearCells(r,o),t.unit!=this.activeUnit?this.unitMoveTo(o,r):((-1==this.activeUnit.transform.xDirection&&this.unitToAttack.transform.x>this.activeUnit.transform.x||1==this.activeUnit.transform.xDirection&&this.unitToAttack.transform.x<this.activeUnit.transform.x)&&this.activeUnit.flipX(),this.activeUnit.attack(),setTimeout((function(){e.unitToAttack.takeDamage(e.activeUnit.getDamage())}),this.activeUnit.attackTime/2),setTimeout((function(){e.canTurn=!0}),this.activeUnit.attackTime))}},e.prototype.battleEnd=function(t){var n=this;this.canTurn=!1,this.viewportRootElement.classList.add("battle--end"),this.music.setVolume(0,1),this.activeUnit.toggleActive(),(0,l.renderTemplate)("#js-battle-end",this.viewportRootElement,(function(r){var o=r.querySelector(".battle-end-header__image"),i=r.querySelector(".battle-end-header__title"),s=r.querySelector("#js-button-replay"),c=r.querySelector("#js-button-to-main-menu");s.classList.add("freeze"),c.classList.add("freeze"),setTimeout((function(){s.classList.remove("freeze"),c.classList.remove("freeze")}),1e3);var l=function(t){n.playLocalUISound("./assets/button-hover.mp3")},u=function(){n.viewportRootElement.classList.add("scene--to-next"),n.viewportRootElement.classList.remove("scene--fade-in"),n.viewportRootElement.classList.remove("battle--end"),n.playGlobalUISound("./assets/button-to-battle.mp3")};s.addEventListener("mouseenter",l),c.addEventListener("mouseenter",l),s.addEventListener("mouseup",(function(t){u();var n=new CustomEvent("loadnextscene",{detail:{scene:new e}});setTimeout((function(){document.dispatchEvent(n)}),1e3)})),c.addEventListener("mouseup",(function(t){u();var e=new CustomEvent("loadnextscene",{detail:{scene:new a.SceneMenu}});setTimeout((function(){document.dispatchEvent(e)}),1e3)})),t?(o.src="./assets/crest-ally.png",i.textContent="Победили левые"):(o.src="./assets/crest-enemy.png",i.textContent="Победили правые")})),c.Settings.allowMusic&&this.playGlobalUISound("./assets/battle-end.m4a")},e.prototype.playGlobalMusic=function(t){c.Settings.allowMusic&&(this.music.setSource(t),this.music.playLoop())},e}(i.Scene);e.SceneBattle=A},994:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SceneLoad=void 0;var i=n(180),a=n(279),s=n(887),c=n(200),l=function(t){function e(){var e=t.call(this)||this;return e.assetLoader=new c.AssetManager(["./assets/battlemap1_background.png","./assets/battlemap2_middleground.png","./assets/fog.gif","./assets/game-logo.png","./assets/main-menu-background.png","./assets/battlemusic-2.wav","./assets/main-menu.mp3","./assets/button-hover.mp3","./assets/button-to-battle.mp3","./assets/button-to-settings.mp3","./assets/toggle-change.mp3"]),e}return o(e,t),e.prototype.load=function(){(0,a.renderTemplate)("#js-load",this.viewportRootElement),this.updateElements(),this.bindEvents(),this.assetLoader.loadAssets((function(){var t=new CustomEvent("loadnextscene",{detail:{scene:new s.SceneMenu}});document.dispatchEvent(t)}))},e.prototype.updateElements=function(){this.elements={}},e.prototype.bindEvents=function(){},e}(i.Scene);e.SceneLoad=l},887:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SceneMenu=void 0;var i=n(180),a=n(279),s=n(597),c=n(327),l=n(729),u=function(t){function e(){var e=t.call(this)||this;return e.freeze=!0,e.handleButtonOver=function(t){e.playLocalUISound("./assets/button-hover.mp3")},e.handleToggleMusic=function(t){var n=t.target.checked;e.updateMusicSettings(n)},e.handlePlay=function(t){if(!e.freeze){e.elements.menuMainElement.classList.add("freeze"),e.elements.menuSettingsElement.classList.add("freeze"),e.viewportRootElement.classList.add("scene--to-next");var n=new CustomEvent("loadnextscene",{detail:{scene:new l.SceneBattle}});setTimeout((function(){document.dispatchEvent(n)}),1e3),s.Settings.allowMusic&&(e.freeze=!0,e.playGlobalUISound("./assets/button-to-battle.mp3"),e.music.setVolume(0,.5))}},e.handleSettings=function(t){e.elements.menuMainElement.classList.remove("menu--show"),e.elements.menuSettingsElement.classList.add("menu--show"),e.playGlobalUISound("./assets/button-to-settings.mp3"),e.temporaryFreezeMenus()},e.handleBack=function(t){e.elements.menuMainElement.classList.add("menu--show"),e.elements.menuSettingsElement.classList.remove("menu--show"),e.playGlobalUISound("./assets/button-to-settings.mp3"),e.temporaryFreezeMenus()},e.handlePixelization=function(t){document.body.classList.toggle("not-pixelization"),e.playLocalUISound("./assets/toggle-change.mp3")},e.handleMixBlend=function(t){document.body.classList.toggle("not-blend-modes"),e.playLocalUISound("./assets/toggle-change.mp3")},e.handleFSEffects=function(t){document.body.classList.toggle("not-fs-effects"),e.playLocalUISound("./assets/toggle-change.mp3")},e.music.setSource("./assets/main-menu.mp3"),e.uiSound.setSource("./assets/button-hover.mp3"),e}return o(e,t),e.prototype.load=function(){this.freeze=!1,this.viewportRootElement.classList.add("scene--fade-in"),this.viewportRootElement.classList.remove("scene--to-next"),(0,a.renderTemplate)("#js-main-menu",this.viewportRootElement),this.updateElements(),this.bindEvents(),s.Settings.allowMusic&&(this.elements.buttonToggleMusicElement.checked=!0)},e.prototype.updateElements=function(){this.elements={menuMainElement:document.querySelector(".menu--main"),menuSettingsElement:document.querySelector(".menu--settings"),buttonPlayElement:document.getElementById("js-button-play"),buttonToggleMusicElement:document.getElementById("js-toggle-music"),buttonSettingsElement:document.getElementById("js-button-settings"),buttonToggleMusicHolderElement:document.querySelector(".toggle-holder:has(#js-toggle-music)"),buttonBackElement:document.getElementById("js-button-back"),buttonTogglePixelizationElement:document.getElementById("js-toggle-pixelization"),buttonToggleFSEffectsElement:document.getElementById("js-toggle-fs-effects"),buttonToggleMixBlendElement:document.getElementById("js-toggle-mix-blend"),buttonTogglePixelizationHolderElement:document.querySelector(".toggle-holder:has(#js-toggle-pixelization)"),buttonToggleFSEffectsHolderElement:document.querySelector(".toggle-holder:has(#js-toggle-fs-effects)"),buttonToggleMixBlendHolderElement:document.querySelector(".toggle-holder:has(#js-toggle-mix-blend)")}},e.prototype.bindEvents=function(){var t=this,e=this.elements,n=e.buttonPlayElement,r=e.buttonToggleMusicElement,o=e.buttonSettingsElement,i=e.buttonToggleMusicHolderElement,a=e.buttonBackElement,s=e.buttonTogglePixelizationElement,c=e.buttonToggleMixBlendElement,l=e.buttonToggleFSEffectsElement,u=e.buttonTogglePixelizationHolderElement,p=e.buttonToggleFSEffectsHolderElement,d=e.buttonToggleMixBlendHolderElement;r.addEventListener("change",this.handleToggleMusic),[n,i,o,a,u,p,d].forEach((function(e){e.addEventListener("mouseover",t.handleButtonOver)})),n.addEventListener("click",this.handlePlay),o.addEventListener("click",this.handleSettings),a.addEventListener("click",this.handleBack),[{holder:i,toggle:r,handler:this.handleToggleMusic},{holder:u,toggle:s,handler:this.handlePixelization},{holder:d,toggle:c,handler:this.handleMixBlend},{holder:p,toggle:l,handler:this.handleFSEffects}].forEach((function(e){var n=e.holder,r=e.toggle,o=e.handler;return t.setupToggleEvent(n,r,o)}))},e.prototype.setupToggleEvent=function(t,e,n){t.addEventListener("click",(function(t){e.checked=!e.checked,n(t)}))},e.prototype.temporaryFreezeMenus=function(t){var e=this;this.elements.menuMainElement.classList.add("freeze"),this.elements.menuSettingsElement.classList.add("freeze"),this.playGlobalUISound("./assets/button-to-settings.mp3"),setTimeout((function(){e.elements.menuMainElement.classList.remove("freeze"),e.elements.menuSettingsElement.classList.remove("freeze")}),t||500)},e.prototype.updateMusicSettings=function(t){s.Settings.allowMusic=!s.Settings.allowMusic;var e=new c.AudioManager;e.setSource("./assets/toggle-change.mp3"),s.Settings.allowMusic?(this.music.playLoop(),s.Settings.musicVolumeFactor=1):s.Settings.musicVolumeFactor=0,e.playOnce(),e.setVolume(s.Settings.musicVolumeFactor,.5),this.music.setVolume(.25*s.Settings.musicVolumeFactor,.5)},e}(i.Scene);e.SceneMenu=u},720:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.UnitState=e.Unit=void 0;var i,a=n(949),s=n(601),c=n(614),l=n(327),u=n(597),p=n(279),d=n(25);!function(t){t[t.Idle=0]="Idle",t[t.Run=1]="Run",t[t.Attack=2]="Attack",t[t.Die=3]="Die"}(i||(i={})),e.UnitState=i;var f=function(t){function e(){var e=t.call(this)||this;return e.enemy=!1,e.spriteSrcList={idleStateSrc:"",runStateSrc:"",attackStateSrc:"",dieStateSrc:""},e.speed=80,e.isActive=!1,e.voiceTrackArray={voiceGreating:"src",voiceRun:"src",voiceAttack:"src"},e.sfxTrackArray={sfxAttack:"src",sfxTakeDamage:"src"},e.hp=25,e.sp=25,e.defence=0,e.attackDamageMin=1,e.attackDamageMax=5,e.portraitSource="",e.runToAttack=!1,e.attackTime=2e3,e.handleToIdle=function(t){e.toIdle()},e._shadowElement=document.createElement("div"),e._shadowElement.className="shadow",e._shadowImageElement=document.createElement("img"),e._shadowImageElement.className="shadow__inner",e._uiElement=document.createElement("div"),e._uiElement.className="unit-ui-wrapper",e.voice=new l.AudioManager,e.sfx=new l.AudioManager,e}return o(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowElement",{get:function(){return this.shadowElement},enumerable:!1,configurable:!0}),e.prototype.render=function(){t.prototype.render.call(this),this._shadowElement.style.width="".concat(this.transform.size.x,"px"),this._shadowElement.style.height="".concat(this.transform.size.y,"px"),this._shadowImageElement.src=this.spriteRenderer.spriteSrc,this._shadowImageElement.draggable=!1,this._shadowImageElement.style.transform="skew(-45deg, 0) scaleY(0.5) scaleX(".concat(this.transform.xDirection,")"),this.rootElement.contains(this._shadowElement)||this.rootElement.appendChild(this._shadowElement),this.rootElement.contains(this._uiElement)||this.rootElement.appendChild(this._uiElement),this._shadowElement.contains(this._shadowImageElement)||this._shadowElement.appendChild(this._shadowImageElement),this.renderUI(),this.rootElement.classList.add("unit")},e.prototype.renderUI=function(){var t=this;this._uiElement.innerHTML="",(0,p.renderTemplate)("#js-unit-interface",this._uiElement,(function(e){t.unitUINameElement=e.querySelector(".unit-ui-wrapper__name"),t.unitUIHPElement=e.querySelector(".unit-ui-wrapper__hp"),t.unitUIDefenceElement=e.querySelector(".unit-ui-wrapper__defence"),t.unitUINameElement.textContent=t.name,t.unitUIHPElement.textContent=t.hp.toString(),t.unitUIDefenceElement.textContent=t.defence.toString(),t.unitUIDefenceElement.parentElement.classList.toggle("hide",0==t.defence)}))},e.prototype.idle=function(){this.spriteRenderer.spriteSrc=this.spriteSrcList.idleStateSrc,this._state=i.Idle,this.render()},e.prototype.run=function(){this.spriteRenderer.spriteSrc=this.spriteSrcList.runStateSrc,this._state=i.Run,this.render(),u.Settings.allowMusic&&(this.voice.setSource(this.voiceTrackArray.voiceRun),this.voice.playOnce())},e.prototype.attack=function(){var t=this;this.runToAttack=!1,this.spriteRenderer.spriteSrc=this.spriteSrcList.attackStateSrc,this._state=i.Attack,this.render(),setTimeout((function(){t.toIdle()}),this.attackTime),u.Settings.allowMusic&&(this.voice.setSource(this.voiceTrackArray.voiceAttack),this.voice.playOnce())},e.prototype.die=function(){this.spriteRenderer.spriteSrc=this.spriteSrcList.dieStateSrc,this._state=i.Die,this.render();var t=new CustomEvent("unitdied",{detail:{unit:this}});this.rootElement.classList.add("unit--died"),document.dispatchEvent(t)},e.prototype.toIdle=function(){this.rootElement.removeEventListener("transitionend",this.handleToIdle);var t=new CustomEvent("unitrunend",{detail:{}});this.state!=i.Attack?(this.idle(),document.dispatchEvent(t)):(this.idle(),setTimeout((function(){document.dispatchEvent(t)}),1e3))},e.prototype.moveTo=function(e,n){this._transform.x==e+this._transform.pivot.x&&this._transform.y==n+this._transform.pivot.y||this.state==i.Idle&&((e<this.transform.x&&1==this.transform.xDirection||e>this.transform.x&&-1==this.transform.xDirection)&&this.flipX(),this.run(),this.rootElement.style.setProperty("--run-speed","".concat((0,c.calculateDistance)(e+this.transform.pivot.x,n+this.transform.pivot.y,this.transform.x,this.transform.y)/this.speed/10,"s")),t.prototype.moveTo.call(this,e,n),this.rootElement.addEventListener("transitionend",this.handleToIdle))},e.prototype.moveToInstant=function(e,n){t.prototype.moveTo.call(this,e,n)},e.prototype.toggleActive=function(){if(this.isActive=!this.isActive,this._rootElement.classList.toggle("unit--active",this.isActive),this.isActive){if(this.defence=0,this.renderUI(),!u.Settings.allowMusic)return;this.voice.setSource(this.voiceTrackArray.voiceGreating),this.voice.playOnce()}},e.prototype.defenceUp=function(){var t=this;this.defence=1,this.rootElement.classList.add("unit--defence-up"),this.renderUI(),setTimeout((function(){t.rootElement.classList.remove("unit--defence-up")}),300)},e.prototype.defenceDown=function(){this.defence=0,this.renderUI()},e.prototype.getHp=function(){return this.hp},e.prototype.getDefence=function(){return this.defence},e.prototype.getAttackString=function(){return"".concat(this.attackDamageMin,"—").concat(this.attackDamageMax)},e.prototype.getPortraitSource=function(){return this.portraitSource},e.instantiate=function(t){return a.ObjectPool.push(t),t},e.prototype.hover=function(){this.rootElement.classList.add("unit--hovered")},e.prototype.unhover=function(){this.rootElement.classList.remove("unit--hovered")},e.prototype.setEnemy=function(){this.flipX(),this.enemy=!0,this.rootElement.classList.add("unit--enemy"),this.rootElement.style.setProperty("--active-color","red")},e.prototype.setAlly=function(){this.enemy=!1,this.rootElement.classList.add("unit--ally"),this.rootElement.style.setProperty("--active-color","gold")},e.prototype.takeDamage=function(t){var e=this;console.log(this.name+" получил пизды"),this.defence-=t,this.defence<0&&(this.hp-=Math.abs(this.defence),this.defence=0),this.hp=Math.max(this.hp,0),this.renderUI(),this._uiElement.querySelector(".unit-ui-taken-damage").textContent="−".concat(t),this.rootElement.classList.add("unit--damaging"),u.Settings.allowMusic&&(this.sfx.setSource(this.sfxTrackArray.sfxTakeDamage),this.sfx.playOnce()),setTimeout((function(){e.rootElement.classList.remove("unit--damaging"),0==e.hp&&e.die()}),1e3)},e.prototype.getDamage=function(){return console.log(this.name+" даёт пизды"),u.Settings.allowMusic&&(this.sfx.setSource(this.sfxTrackArray.sfxAttack),this.sfx.playOnce()),(0,d.getRandomInt)(this.attackDamageMin,this.attackDamageMax)},e}(s.SpriteObject);e.Unit=f},289:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BromeWarcrest=void 0;var i=n(720),a=n(597),s=function(t){function e(){var e=t.call(this)||this;return e._id="bwu",e._name="Brome Warcrest",e.spriteSrcList={idleStateSrc:"./assets/brome_warcrest_idle.gif",runStateSrc:"./assets/brome_warcrest_run.gif",attackStateSrc:"./assets/brome_warcrest_attack.gif",dieStateSrc:"./assets/brome_warcrest_die.gif"},e.voiceTrackArray={voiceGreating:"./assets/brome_warcrest_greeting.mp3",voiceRun:"./assets/brome_warcrest_run.mp3",voiceAttack:"./assets/brome_warcrest_attack.mp3"},e.sfxTrackArray={sfxAttack:"./assets/brome_warcrest_sfx_attack.m4a",sfxTakeDamage:"./assets/brome_warcrest_sfx_take_damage.m4a"},e.portraitSource="./assets/brome_warcrest_portrait.png",e.hp=32,e.sp=25,e.attackDamageMin=4,e.attackDamageMax=10,e.attackTime=2240,e.transform.size.x=390,e.transform.size.y=390,e.transform.x=250,e.transform.y=250,e.rootElement.style.setProperty("--sprite-x","0"),e.rootElement.style.setProperty("--sprite-y","18px"),e.rootElement.style.setProperty("--shadow-x","-70%"),e.rootElement.style.setProperty("--shadow-y","-87%"),e}return o(e,t),e.prototype.defenceUp=function(){t.prototype.defenceUp.call(this),this.defence=2,this.renderUI()},e.prototype.toggleActive=function(){if(this.isActive=!this.isActive,this._rootElement.classList.toggle("unit--active",this.isActive),this.isActive){if(this.renderUI(),!a.Settings.allowMusic)return;this.voice.setSource(this.voiceTrackArray.voiceGreating),this.voice.playOnce()}},e}(i.Unit);e.BromeWarcrest=s},429:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.GryphonFledgling=void 0;var i=function(t){function e(){var e=t.call(this)||this;return e._id="gfu",e._name="Gryphon Fledgling",e.spriteSrcList={idleStateSrc:"./assets/gryphon_fledgling_idle.gif",runStateSrc:"./assets/gryphon_fledgling_run.gif",attackStateSrc:"./assets/gryphon_fledgling_attack.gif",dieStateSrc:"./assets/gryphon_fledgling_die.gif"},e.voiceTrackArray={voiceGreating:"./assets/gryphon_fledgling_greeting.mp3",voiceRun:"./assets/gryphon_fledgling_run.mp3",voiceAttack:"./assets/gryphon_fledgling_attack.mp3"},e.sfxTrackArray={sfxAttack:"./assets/gryphon_fledgling_sfx_attack.m4a",sfxTakeDamage:"./assets/gryphon_fledgling_sfx_take_damage.m4a"},e.portraitSource="./assets/gryphon_fledgling_portrait.png",e.attackTime=2380,e.attackDamageMin=7,e.attackDamageMax=12,e.transform.size.x=300,e.transform.size.y=300,e.transform.x=250,e.transform.y=250,e.rootElement.style.setProperty("--sprite-x","0"),e.rootElement.style.setProperty("--sprite-y","16px"),e.rootElement.style.setProperty("--shadow-x","-46%"),e.rootElement.style.setProperty("--shadow-y","-66%"),e}return o(e,t),e}(n(720).Unit);e.GryphonFledgling=i},543:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Indominus=void 0;var i=function(t){function e(){var e=t.call(this)||this;return e._id="ius",e._name="Indominus",e.speed=30,e.spriteSrcList={idleStateSrc:"./assets/indominus_idle.gif",runStateSrc:"./assets/indominus_run.gif",attackStateSrc:"./assets/indominus_attack.gif",dieStateSrc:"./assets/indominus_die.gif"},e.voiceTrackArray={voiceGreating:"./assets/indominus_greeting.mp3",voiceRun:"./assets/indominus_run.mp3",voiceAttack:"./assets/indominus_attack.mp3"},e.sfxTrackArray={sfxAttack:"./assets/indominus_sfx_attack.m4a",sfxTakeDamage:"./assets/indominus_sfx_take_damage.m4a"},e.portraitSource="./assets/indominus_portrait.png",e.hp=30,e.sp=0,e.attackTime=2030,e.attackDamageMin=6,e.attackDamageMax=12,e.transform.size.x=300,e.transform.size.y=300,e.transform.x=250,e.transform.y=250,e.rootElement.style.setProperty("--sprite-x","0"),e.rootElement.style.setProperty("--sprite-y","16px"),e.rootElement.style.setProperty("--shadow-x","-58%"),e.rootElement.style.setProperty("--shadow-y","-50%"),e}return o(e,t),e}(n(720).Unit);e.Indominus=i},191:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SilverguardSquire=void 0;var i=function(t){function e(){var e=t.call(this)||this;return e._id="ssu",e._name="Silverguard Squire",e.speed=50,e.spriteSrcList={idleStateSrc:"./assets/silverguard_squire_idle.gif",runStateSrc:"./assets/silverguard_squire_run.gif",attackStateSrc:"./assets/silverguard_squire_attack.gif",dieStateSrc:"./assets/silverguard_squire_die.gif"},e.voiceTrackArray={voiceGreating:"./assets/silverguard_squire_greeting.mp3",voiceRun:"./assets/silverguard_squire_run.mp3",voiceAttack:"./assets/silverguard_squire_attack.mp3"},e.sfxTrackArray={sfxAttack:"./assets/silverguard_squire_sfx_attack.m4a",sfxTakeDamage:"./assets/silverguard_squire_sfx_take_damage.m4a"},e.portraitSource="./assets/silverguard_squire_portrait.png",e.hp=15,e.sp=5,e.attackTime=910,e.attackDamageMin=2,e.attackDamageMax=5,e.transform.size.x=240,e.transform.size.y=240,e.transform.x=250,e.transform.y=250,e.rootElement.style.setProperty("--sprite-x","".concat(-7*e.transform.xDirection,"px")),e.rootElement.style.setProperty("--sprite-y","17px"),e.rootElement.style.setProperty("--shadow-x","-38%"),e.rootElement.style.setProperty("--shadow-y","-47%"),e}return o(e,t),e.prototype.flipX=function(){t.prototype.flipX.call(this),this.rootElement.style.setProperty("--sprite-x","".concat(-7*this.transform.xDirection,"px"))},e}(n(720).Unit);e.SilverguardSquire=i},451:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SunWisp=void 0;var i=function(t){function e(){var e=t.call(this)||this;return e._id="swu",e._name="Sun Wisp",e.spriteSrcList={idleStateSrc:"./assets/sun_wisp_idle.gif",runStateSrc:"./assets/sun_wisp_run.gif",attackStateSrc:"./assets/sun_wisp_attack.gif",dieStateSrc:"./assets/sun_wisp_die.gif"},e.voiceTrackArray={voiceGreating:"./assets/sun_wisp_greeting.mp3",voiceRun:"./assets/sun_wisp_run.mp3",voiceAttack:"./assets/sun_wisp_attack.mp3"},e.sfxTrackArray={sfxAttack:"./assets/sun_wisp_sfx_attack.m4a",sfxTakeDamage:"./assets/sun_wisp_sfx_take_damage.m4a"},e.portraitSource="./assets/sun_wisp_portrait.png",e.hp=8,e.sp=0,e.attackDamageMin=1,e.attackDamageMax=3,e.attackTime=1750,e.transform.size.x=240,e.transform.size.y=240,e.transform.x=250,e.transform.y=250,e.rootElement.style.setProperty("--sprite-x","0"),e.rootElement.style.setProperty("--sprite-y","9px"),e.rootElement.style.setProperty("--shadow-x","-30%"),e.rootElement.style.setProperty("--shadow-y","-44%"),e}return o(e,t),e}(n(720).Unit);e.SunWisp=i},445:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SunriseCleric=void 0;var i=function(t){function e(){var e=t.call(this)||this;return e._id="scus",e._name="Sunrise Cleric",e.spriteSrcList={idleStateSrc:"./assets/sunrise_cleric_idle.gif",runStateSrc:"./assets/sunrise_cleric_run.gif",attackStateSrc:"./assets/sunrise_cleric_attack.gif",dieStateSrc:"./assets/sunrise_cleric_die.gif"},e.voiceTrackArray={voiceGreating:"./assets/sunrise_cleric_greeting.mp3",voiceRun:"./assets/sunrise_cleric_run.mp3",voiceAttack:"./assets/sunrise_cleric_attack.mp3"},e.sfxTrackArray={sfxAttack:"./assets/sunrise_cleric_sfx_attack.m4a",sfxTakeDamage:"./assets/sunrise_cleric_sfx_take_damage.m4a"},e.portraitSource="./assets/sunrise_cleric_portrait.png",e.hp=15,e.sp=25,e.attackTime=1820,e.attackDamageMin=1,e.attackDamageMax=10,e.transform.size.x=340,e.transform.size.y=340,e.transform.x=250,e.transform.y=250,e.rootElement.style.setProperty("--sprite-x","0"),e.rootElement.style.setProperty("--sprite-y","9px"),e.rootElement.style.setProperty("--shadow-x","-56%"),e.rootElement.style.setProperty("--shadow-y","-68%"),e}return o(e,t),e}(n(720).Unit);e.SunriseCleric=i},812:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbyssalCrawler=void 0;var i=function(t){function e(){var e=t.call(this)||this;return e._id="acu",e._name="Abbyssal Crawler",e.spriteSrcList={idleStateSrc:"./assets/abyssal_crawler_idle.gif",runStateSrc:"./assets/abyssal_crawler_run.gif",attackStateSrc:"./assets/abyssal_crawler_attack.gif",dieStateSrc:"./assets/abyssal_crawler_die.gif"},e.voiceTrackArray={voiceGreating:"./assets/abyssal_crawler_greeting.m4a",voiceRun:"./assets/abyssal_crawler_greeting.m4a",voiceAttack:"./assets/abyssal_crawler_attack.m4a"},e.sfxTrackArray={sfxAttack:"./assets/abyssal_crawler_sfx_attack.m4a",sfxTakeDamage:"./assets/abyssal_crawler_sfx_take_damage.m4a"},e.portraitSource="./assets/abyssal_crawler_portrait.png",e.hp=8,e.sp=0,e.attackTime=700,e.attackDamageMin=2,e.attackDamageMax=3,e.transform.size.x=240,e.transform.size.y=240,e.transform.x=250,e.transform.y=250,e.rootElement.style.setProperty("--sprite-x","".concat(10*e.transform.xDirection,"px")),e.rootElement.style.setProperty("--sprite-y","14px"),e.rootElement.style.setProperty("--shadow-x","-46%"),e.rootElement.style.setProperty("--shadow-y","-45%"),e}return o(e,t),e.prototype.flipX=function(){t.prototype.flipX.call(this),this.rootElement.style.setProperty("--sprite-x","".concat(10*this.transform.xDirection,"px"))},e}(n(720).Unit);e.AbyssalCrawler=i},984:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbyssalJuggernaut=void 0;var i=function(t){function e(){var e=t.call(this)||this;return e._id="aju",e._name="Abyssal Juggernaut",e.speed=50,e.spriteSrcList={idleStateSrc:"./assets/abyssal_juggernaut_idle.gif",runStateSrc:"./assets/abyssal_juggernaut_run.gif",attackStateSrc:"./assets/abyssal_juggernaut_attack.gif",dieStateSrc:"./assets/abyssal_juggernaut_die.gif"},e.voiceTrackArray={voiceGreating:"./assets/abyssal_juggernaut_greeting.m4a",voiceRun:"./assets/abyssal_juggernaut_greeting.m4a",voiceAttack:"./assets/abyssal_juggernaut_attack.m4a"},e.sfxTrackArray={sfxAttack:"./assets/abyssal_juggernaut_sfx_attack.m4a",sfxTakeDamage:"./assets/abyssal_juggernaut_sfx_take_damage.m4a"},e.portraitSource="./assets/abyssal_juggernaut_portrait.png",e.hp=30,e.sp=0,e.attackTime=1120,e.attackDamageMin=9,e.attackDamageMax=9,e.transform.size.x=300,e.transform.size.y=300,e.transform.x=250,e.transform.y=250,e.rootElement.style.setProperty("--sprite-x","0"),e.rootElement.style.setProperty("--sprite-y","32px"),e.rootElement.style.setProperty("--shadow-x","-55%"),e.rootElement.style.setProperty("--shadow-y","-73%"),e}return o(e,t),e}(n(720).Unit);e.AbyssalJuggernaut=i},70:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BloodSiren=void 0;var i=function(t){function e(){var e=t.call(this)||this;return e._id="bsu",e._name="Blood Siren",e.spriteSrcList={idleStateSrc:"./assets/blood_siren_idle.gif",runStateSrc:"./assets/blood_siren_run.gif",attackStateSrc:"./assets/blood_siren_attack.gif",dieStateSrc:"./assets/blood_siren_die.gif"},e.voiceTrackArray={voiceGreating:"./assets/blood_siren_greeting.m4a",voiceRun:"./assets/blood_siren_greeting.m4a",voiceAttack:"./assets/blood_siren_attack.m4a"},e.sfxTrackArray={sfxAttack:"./assets/blood_siren_sfx_attack.m4a",sfxTakeDamage:"./assets/blood_siren_sfx_take_damage.m4a"},e.portraitSource="./assets/blood_siren_portrait.png",e.hp=15,e.sp=5,e.attackTime=1120,e.attackDamageMin=2,e.attackDamageMax=5,e.transform.size.x=240,e.transform.size.y=240,e.transform.x=250,e.transform.y=250,e.rootElement.style.setProperty("--sprite-x","0px"),e.rootElement.style.setProperty("--sprite-y","6px"),e.rootElement.style.setProperty("--shadow-x","-38%"),e.rootElement.style.setProperty("--shadow-y","-47%"),e}return o(e,t),e}(n(720).Unit);e.BloodSiren=i},828:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.MaehvSkinsolder=void 0;var i=function(t){function e(){var e=t.call(this)||this;return e._id="msu",e._name="Maehv Skinsolder",e.spriteSrcList={idleStateSrc:"./assets/maehv_skinsolder_idle.gif",runStateSrc:"./assets/maehv_skinsolder_run.gif",attackStateSrc:"./assets/maehv_skinsolder_attack.gif",dieStateSrc:"./assets/maehv_skinsolder_die.gif"},e.voiceTrackArray={voiceGreating:"./assets/maehv_skinsolder_greeting.m4a",voiceRun:"./assets/maehv_skinsolder_greeting.m4a",voiceAttack:"./assets/maehv_skinsolder_attack.m4a"},e.sfxTrackArray={sfxAttack:"./assets/maehv_skinsolder_sfx_attack.m4a",sfxTakeDamage:"./assets/maehv_skinsolder_sfx_take_damage.m4a"},e.portraitSource="./assets/maehv_skinsolder_portrait.png",e.hp=30,e.sp=25,e.attackTime=2e3,e.attackDamageMin=6,e.attackDamageMax=16,e.transform.size.x=390,e.transform.size.y=390,e.transform.x=250,e.transform.y=250,e.rootElement.style.setProperty("--sprite-x","0"),e.rootElement.style.setProperty("--sprite-y","18px"),e.rootElement.style.setProperty("--shadow-x","-69%"),e.rootElement.style.setProperty("--shadow-y","-91%"),e}return o(e,t),e}(n(720).Unit);e.MaehvSkinsolder=i},505:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShadowWatcher=void 0;var i=function(t){function e(){var e=t.call(this)||this;return e._id="swu2",e._name="Shadow Watcher",e.speed=50,e.spriteSrcList={idleStateSrc:"./assets/shadow_watcher_idle.gif",runStateSrc:"./assets/shadow_watcher_run.gif",attackStateSrc:"./assets/shadow_watcher_attack.gif",dieStateSrc:"./assets/shadow_watcher_die.gif"},e.voiceTrackArray={voiceGreating:"./assets/shadow_watcher_greeting.m4a",voiceRun:"./assets/shadow_watcher_greeting.m4a",voiceAttack:"./assets/shadow_watcher_attack.m4a"},e.sfxTrackArray={sfxAttack:"./assets/shadow_watcher_sfx_attack.m4a",sfxTakeDamage:"./assets/shadow_watcher_sfx_take_damage.m4a"},e.portraitSource="./assets/shadow_watcher_portrait.png",e.hp=15,e.sp=25,e.attackTime=1040,e.attackDamageMin=2,e.attackDamageMax=8,e.transform.size.x=240,e.transform.size.y=240,e.transform.x=250,e.transform.y=250,e.rootElement.style.setProperty("--sprite-x","0"),e.rootElement.style.setProperty("--sprite-y","13px"),e.rootElement.style.setProperty("--shadow-x","-33%"),e.rootElement.style.setProperty("--shadow-y","-48%"),e}return o(e,t),e}(n(720).Unit);e.ShadowWatcher=i},278:function(t,e,n){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.VorpalReaver=void 0;var i=function(t){function e(){var e=t.call(this)||this;return e._id="vru",e._name="Vorpal Reaver",e.spriteSrcList={idleStateSrc:"./assets/vorpal_reaver_idle.gif",runStateSrc:"./assets/vorpal_reaver_run.gif",attackStateSrc:"./assets/vorpal_reaver_attack.gif",dieStateSrc:"./assets/vorpal_reaver_die.gif"},e.voiceTrackArray={voiceGreating:"./assets/vorpal_reaver_greeting.m4a",voiceRun:"./assets/vorpal_reaver_greeting.m4a",voiceAttack:"./assets/vorpal_reaver_attack.m4a"},e.sfxTrackArray={sfxAttack:"./assets/vorpal_reaver_sfx_attack.m4a",sfxTakeDamage:"./assets/vorpal_reaver_sfx_take_damage.m4a"},e.portraitSource="./assets/vorpal_reaver_portrait.png",e.attackTime=1028,e.attackDamageMin=9,e.attackDamageMax=12,e.transform.size.x=300,e.transform.size.y=300,e.transform.x=250,e.transform.y=250,e.rootElement.style.setProperty("--sprite-x","0"),e.rootElement.style.setProperty("--sprite-y","16px"),e.rootElement.style.setProperty("--shadow-x","-57%"),e.rootElement.style.setProperty("--shadow-y","-57%"),e}return o(e,t),e}(n(720).Unit);e.VorpalReaver=i},219:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Debug=void 0,e.Debug=function(){function t(){}return t.isDebug=!0,t}()},25:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getScreenDimensions=e.shuffleArray=e.getRandomInt=void 0,e.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},e.shuffleArray=function(t){for(var e,n=t,r=n.length-1;r>0;r--){var o=Math.floor(Math.random()*(r+1));e=[n[o],n[r]],n[r]=e[0],n[o]=e[1]}return n},e.getScreenDimensions=function(){return{width:window.innerWidth,height:window.innerHeight}}},949:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectPool=void 0;var n=function(){function t(){}return Object.defineProperty(t,"pool",{get:function(){return this._objectPool},enumerable:!1,configurable:!0}),t.push=function(t){this.pool.push(t)},t.size=function(){return this.pool.length},t._objectPool=[],t}();e.ObjectPool=n},279:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.renderTemplate=void 0,e.renderTemplate=function(t,e,n){var r=document.querySelector(t);if(r){var o=document.importNode(r.content,!0);n&&n(o);var i="string"==typeof e?document.querySelector(e):e;i?i.append(o):console.error("Не найден контейнер с ID «".concat(e,"»."))}else console.error("Не найден шаблон с ID «".concat(t,"»."))}},597:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Settings=void 0;var n=function(){function t(){}return t.allowMusic=!1,t.musicVolumeFactor=1,t}();e.Settings=n},614:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.calculateAngle=e.calculateDistance=void 0,e.calculateDistance=function(t,e,n,r){var o=n-t,i=r-e;return Math.sqrt(o*o+i*i)},e.calculateAngle=function(t,e,n,r){var o=n-t,i=r-e;return Math.atan2(i,o)*(180/Math.PI)+180}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nc=void 0,(()=>{n(273);var t=n(681);new function(){this.game=new t.Game}})()})();